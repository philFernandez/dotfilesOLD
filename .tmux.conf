set -g default-terminal 'tmux-256color'
set -as terminal-overrides ',xterm*:Tc:sitm=\E[3m'

# ==== C-a instead of C-b
unbind C-b
set -g prefix C-a
bind C-a send-prefix
set -sg escape-time 1 # quicker responses
# =========================

# Mouse
#set -g mouse on
unbind m
bind m set mouse \; display "Mouse mode toggled..."
# =========================

# Pane splits
bind - split-window -v -c "#{pane_current_path}"
bind \ split-window -h -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"
# Resize splits with <prefix> option up/down/l/r
# =========================

# move through windows
unbind n
unbind p
bind -r C-h previous-window # select previous window
bind -r C-l next-window     # select next window
bind Tab last-window        # move to last active window
# =========================

# Copy mode
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-selection
bind-key -T copy-mode-vi r send-keys -X rectangle-toggle
# copy buffer to system clipboard
if -b 'command -v reattach-to-user-namespace > /dev/null 2>&1' 'bind y run -b "tmux save-buffer - | reattach-to-user-namespace pbcopy"'
# <prefix>= goes into copy buffer
# <prefix>[ enters vi copy mode
# =========================

bind r source-file $HOME/.tmux.conf \; display "Reloaded..."

# 10 million history!
set -g history-limit 10000000
set -g base-index 1           # start windows numbering at 1
setw -g pane-base-index 1     # make pane numbering consistent with windows
setw -g automatic-rename on   # rename window to reflect current program
set -g renumber-windows on    # renumber windows when a window is closed
set -g display-time 10000      # slightly longer status messages display time

# VIM SMART PANE NAV
# ======================================================================
# Smart pane switching with awareness of Vim splits.
# See: https://github.com/christoomey/vim-tmux-navigator
is_vim="ps -o state= -o comm= -t '#{pane_tty}' \
        | grep -iqE '^[^TXZ ]+ +(\\S+\\/)?g?(view|n?vim?x?)(diff)?$'"
        bind-key -n C-h if-shell "$is_vim" "send-keys C-h"  "select-pane -L"
        bind-key -n C-j if-shell "$is_vim" "send-keys C-j"  "select-pane -D"
        bind-key -n C-k if-shell "$is_vim" "send-keys C-k"  "select-pane -U"
        bind-key -n C-l if-shell "$is_vim" "send-keys C-l"  "select-pane -R"
        bind-key -n C-\ if-shell "$is_vim" "send-keys C-\\" "select-pane -l"
        bind-key -T copy-mode-vi C-h select-pane -L
        bind-key -T copy-mode-vi C-j select-pane -D
        bind-key -T copy-mode-vi C-k select-pane -U
        bind-key -T copy-mode-vi C-l select-pane -R
        bind-key -T copy-mode-vi C-\ select-pane -l
# ======================================================================

# ======= THEME SETTINGS ===============================================
# Status update interval
        set -g status-interval 1

# Basic status bar colors
        set -g status-fg colour240
        set -g status-bg colour233

# Left side of status bar
        set -g status-left-length 40
        set -g status-left "#[fg=colour232,bg=colour041,bold] #S #[fg=colour041,bg=colour240,nobold]#[fg=colour233,bg=colour240] #(whoami) #[fg=colour240,bg=colour041]#[fg=colour240,bg=colour041] #I:#P #[fg=colour041,bg=colour233,nobold]"

# Right side of status bar
        set -g status-right-length 150
        set -g status-right "#[fg=colour041,bg=colour233]#[fg=colour240,bg=colour041] %I:%M %p #[fg=colour240,bg=colour041]#[fg=colour233,bg=colour240] %A %b %d #[fg=colour245,bg=colour240]#[fg=colour232,bg=colour245,bold] "

# Window status
        set -g window-status-format "  #I:#W#F  "
        set -g window-status-current-format "#[fg=colour233,bg=black]#[fg=colour041,nobold] #I:#W#F #[fg=colour233,bg=black,nobold]"

# Current window status

# Window with activity status

# Window separator
        set -g window-status-separator ""

# Window status alignment
        set -g status-justify centre

# Pane border

# Active pane border

# Pane number indicator
        set -g display-panes-colour colour233
        set -g display-panes-active-colour colour245

# Clock mode
        set -g clock-mode-colour colour041
        set -g clock-mode-style 24
